# ğŸ“– ä½¿ç”¨æŒ‡å—

## ç›®å½•
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
- [Web UI ä½¿ç”¨](#web-ui-ä½¿ç”¨)
- [å‘½ä»¤è¡Œä½¿ç”¨](#å‘½ä»¤è¡Œä½¿ç”¨)
- [å¸¸è§åœºæ™¯](#å¸¸è§åœºæ™¯)
- [é—®é¢˜æ’æŸ¥](#é—®é¢˜æ’æŸ¥)

---

## å¿«é€Ÿå¼€å§‹

### ç³»ç»Ÿè¦æ±‚
- Python 3.9+
- 4GB+ RAM
- 2GB+ ç£ç›˜ç©ºé—´

### ä¸‰æ­¥ä¸Šæ‰‹

#### 1. å®‰è£…ä¾èµ–
```bash
cd academic-paper-qa
pip install -r requirements.txt
```

#### 2. é…ç½® API
```bash
# å¤åˆ¶é…ç½®æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘é…ç½®æ–‡ä»¶
vim .env
```

**æœ€å°é…ç½®ï¼ˆå¿…å¡«ï¼‰ï¼š**
```bash
LLM_API_BASE=https://api.moonshot.cn/v1  # API ç«¯ç‚¹
LLM_API_KEY=your-api-key-here             # ä» Moonshot è·å–
LLM_MODEL=moonshot-v1-8k                  # æ¨¡å‹åç§°
```

#### 3. å¯åŠ¨ä½¿ç”¨
```bash
# Web UI å¤šè½®å¯¹è¯ï¼ˆæ¨èï¼‰
./start_web_multi.sh

# å‘½ä»¤è¡Œå¤šè½®å¯¹è¯
./start_cli_multi.sh

# Web UI å•è½®é—®ç­”
./start_web_single.sh

# å‘½ä»¤è¡Œå•è½®é—®ç­”
./start_cli_single.sh
```

---

## é…ç½®è¯´æ˜

### å¿…é¡»é…ç½®

#### 1. LLM API é…ç½®
åˆ›å»º `.env` æ–‡ä»¶ï¼ˆå¯ä» `.env.example` å¤åˆ¶ï¼‰ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼š

```bash
# ========== LLM é…ç½® ==========
# API æä¾›å•†ï¼šopenai, moonshot, deepseek
LLM_PROVIDER=moonshot

# API ç«¯ç‚¹ï¼ˆå¿…é¡»åŒ…å« /v1 åç¼€ï¼‰
LLM_API_BASE=https://api.moonshot.cn/v1

# API å¯†é’¥ï¼ˆä»æœåŠ¡å•†è·å–ï¼‰
LLM_API_KEY=your-api-key-here

# æ¨¡å‹åç§°
LLM_MODEL=moonshot-v1-8k

# æ¸©åº¦å‚æ•°ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šéšæœºï¼‰
LLM_TEMPERATURE=0.7
```

**æ”¯æŒçš„ LLM æä¾›å•†ï¼š**

| æä¾›å•† | API Base | æ¨èæ¨¡å‹ | è·å–å¯†é’¥ |
|--------|----------|----------|----------|
| **Moonshot** | `https://api.moonshot.cn/v1` | `moonshot-v1-8k` | [Moonshot AI](https://platform.moonshot.cn/) |
| **OpenAI** | `https://api.openai.com/v1` | `gpt-3.5-turbo` | [OpenAI](https://platform.openai.com/) |
| **DeepSeek** | `https://api.deepseek.com/v1` | `deepseek-chat` | [DeepSeek](https://platform.deepseek.com/) |

**âš ï¸ é‡è¦æç¤ºï¼š**
- API Base å¿…é¡»åŒ…å« `/v1` åç¼€
- API Key éœ€è¦æœ‰è¶³å¤Ÿçš„ä½™é¢
- ä¸åŒæ¨¡å‹çš„ context é•¿åº¦ä¸åŒï¼Œå½±å“å¤„ç†æ–‡æ¡£çš„å¤§å°

#### 2. Embedding æ¨¡å‹é…ç½®

```bash
# ========== Embedding é…ç½® ==========
# æ¨¡å‹è·¯å¾„ï¼ˆæœ¬åœ°æ¨¡å‹ï¼‰
EMBEDDING_MODEL_NAME=BAAI/bge-small-zh-v1.5

# HuggingFace ç¼“å­˜ç›®å½•ï¼ˆå¯é€‰ï¼‰
HF_HOME=./models/huggingface
```

**é¦–æ¬¡è¿è¡Œä¼šè‡ªåŠ¨ä¸‹è½½æ¨¡å‹ï¼ˆçº¦ 100MBï¼‰ï¼š**
```bash
python -c "from sentence_transformers import SentenceTransformer; SentenceTransformer('BAAI/bge-small-zh-v1.5')"
```

**å›½å†…åŠ é€Ÿä¸‹è½½ï¼ˆå¯é€‰ï¼‰ï¼š**
```bash
# ä½¿ç”¨é•œåƒæº
export HF_ENDPOINT=https://hf-mirror.com
pip install -U huggingface_hub
```

### å¯é€‰é…ç½®

#### 3. æœç´¢å¼•æ“é…ç½®

```bash
# ========== æœç´¢é…ç½® ==========
# æœç´¢æä¾›å•†ï¼ˆç›®å‰ä»…æ”¯æŒ duckduckgoï¼‰
SEARCH_PROVIDER=duckduckgo

# æœç´¢ç»“æœæ•°é‡
SEARCH_MAX_RESULTS=5
```

å®‰è£…æœç´¢ä¾èµ–ï¼š
```bash
pip install duckduckgo-search
```

#### 4. ç³»ç»Ÿé…ç½®

```bash
# ========== ç³»ç»Ÿé…ç½® ==========
# æ–‡æ¡£ç›®å½•
DOCUMENTS_DIR=./data/documents

# å‘é‡å­˜å‚¨ç›®å½•
VECTOR_STORE_DIR=./data/vector_store

# æ—¥å¿—çº§åˆ«ï¼ˆDEBUG, INFO, WARNING, ERRORï¼‰
LOG_LEVEL=INFO

# æ—¥å¿—æ–‡ä»¶è·¯å¾„
LOG_FILE=./logs/app.log
```

#### 5. æ£€ç´¢å‚æ•°é…ç½®

```bash
# ========== æ£€ç´¢é…ç½® ==========
# Top-K æ£€ç´¢æ•°é‡ï¼ˆè¿”å›æœ€ç›¸å…³çš„ K ä¸ªæ–‡æœ¬å—ï¼‰
TOP_K=5

# ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆ0-1ï¼Œè¶Šé«˜è¶Šä¸¥æ ¼ï¼‰
SIMILARITY_THRESHOLD=0.7

# æ–‡æœ¬å—å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰
CHUNK_SIZE=512

# æ–‡æœ¬å—é‡å å¤§å°
CHUNK_OVERLAP=50
```

### é…ç½®æ–‡ä»¶ç»“æ„

```
academic-paper-qa/
â”œâ”€â”€ .env                  # ä¸»é…ç½®æ–‡ä»¶ï¼ˆä¸æäº¤åˆ° Gitï¼‰
â”œâ”€â”€ .env.example          # é…ç½®æ¨¡æ¿
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ llm_config.py     # LLM é…ç½®ç±»
â”‚   â”œâ”€â”€ embedding_config.py  # Embedding é…ç½®ç±»
â”‚   â””â”€â”€ search_config.py  # æœç´¢é…ç½®ç±»
```

### éªŒè¯é…ç½®

è¿è¡Œé…ç½®æ£€æŸ¥è„šæœ¬ï¼š
```bash
python init_system.py
```

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
âœ… ç¯å¢ƒé…ç½®æ£€æŸ¥é€šè¿‡
âœ… LLM API è¿æ¥æˆåŠŸ
âœ… Embedding æ¨¡å‹åŠ è½½æˆåŠŸ
âœ… å‘é‡å­˜å‚¨ç›®å½•å·²åˆ›å»º
âš ï¸  æœªæ‰¾åˆ°æ–‡æ¡£ï¼Œè¯·æ·»åŠ æ–‡æ¡£åˆ° ./data/documents/
```

---

## Web UI ä½¿ç”¨

### å¯åŠ¨ Web UI

```bash
# æ–¹å¼ 1ï¼šç›´æ¥å¯åŠ¨
python web_ui.py

# æ–¹å¼ 2ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
bash start_web_ui.sh

# æ–¹å¼ 3ï¼šåå°è¿è¡Œ
nohup python web_ui.py > logs/webui.log 2>&1 &
```

**å¯åŠ¨æˆåŠŸåä¼šæ˜¾ç¤ºï¼š**
```
Running on local URL:  http://127.0.0.1:7860
Running on public URL: https://xxxxx.gradio.live (å¦‚æœå¼€å¯äº†åˆ†äº«)
```

### Web UI ç•Œé¢è¯´æ˜

#### æ ‡ç­¾é¡µ 1ï¼šé—®ç­”ç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é—®ç­”æ¨¡å¼:  â—‰ RAG æ¨¡å¼  â—‹ LLM æ¨¡å¼     â”‚
â”‚  è”ç½‘æœç´¢:  â˜ å¯ç”¨è”ç½‘æœç´¢             â”‚
â”‚  Top-K:     [====|====] 5              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è¯·è¾“å…¥æ‚¨çš„é—®é¢˜:                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ è¿™ç¯‡è®ºæ–‡çš„ä¸»è¦è´¡çŒ®æ˜¯ä»€ä¹ˆï¼Ÿ        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚              [æäº¤é—®é¢˜]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ ç­”æ¡ˆ:                               â”‚
â”‚  æœ¬æ–‡çš„ä¸»è¦è´¡çŒ®åŒ…æ‹¬...                  â”‚
â”‚                                         â”‚
â”‚  ğŸ“Œ å‚è€ƒæ¥æº 1:                         â”‚
â”‚  æ–‡ä»¶: transformer.pdf                  â”‚
â”‚  ç›¸ä¼¼åº¦: 0.89                           â”‚
â”‚  å†…å®¹: "æˆ‘ä»¬æå‡ºäº†..."                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä½¿ç”¨æ­¥éª¤ï¼š**

1. **é€‰æ‹©æ¨¡å¼**
   - **RAG æ¨¡å¼**ï¼šåŸºäºæœ¬åœ°æ–‡æ¡£å›ç­”ï¼ˆæ¨èï¼‰
   - **LLM æ¨¡å¼**ï¼šç›´æ¥ä½¿ç”¨å¤§æ¨¡å‹å›ç­”

2. **é…ç½®å‚æ•°**
   - **è”ç½‘æœç´¢**ï¼šå‹¾é€‰åå¯è·å–æœ€æ–°ä¿¡æ¯
   - **Top-K**ï¼šè°ƒæ•´æ£€ç´¢æ•°é‡ï¼ˆ1-10ï¼‰
     - å€¼è¶Šå¤§ï¼Œæ£€ç´¢èŒƒå›´è¶Šå¹¿
     - å»ºè®®åˆå§‹å€¼ï¼š5

3. **è¾“å…¥é—®é¢˜**
   - æ”¯æŒä¸­è‹±æ–‡
   - å¯ä»¥å¤šè½®å¯¹è¯
   - æ”¯æŒä¸Šä¸‹æ–‡å¼•ç”¨

4. **æŸ¥çœ‹ç­”æ¡ˆ**
   - ç­”æ¡ˆï¼šæ¨¡å‹ç”Ÿæˆçš„å›ç­”
   - æ¥æºï¼šæ˜¾ç¤ºåŸæ–‡å‡ºå¤„ï¼ˆRAG æ¨¡å¼ï¼‰
   - ç›¸ä¼¼åº¦ï¼šç›¸å…³æ€§è¯„åˆ†

#### æ ‡ç­¾é¡µ 2ï¼šç´¢å¼•æ„å»º

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ–‡æ¡£ç›®å½•è·¯å¾„:                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ./data/documents                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  å¼ºåˆ¶é‡å»º: â˜ é‡å»ºç´¢å¼•ï¼ˆåˆ é™¤æ—§æ•°æ®ï¼‰     â”‚
â”‚                                         â”‚
â”‚              [æ„å»ºç´¢å¼•]                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š æ„å»ºçŠ¶æ€:                           â”‚
â”‚  âœ… ç´¢å¼•æ„å»ºæˆåŠŸï¼                      â”‚
â”‚                                         â”‚
â”‚  æ€»æ–‡æ¡£æ•°é‡: 35 ä¸ªæ–‡æœ¬å—                â”‚
â”‚  æºæ–‡ä»¶æ•°é‡: 3 ä¸ª                       â”‚
â”‚                                         â”‚
â”‚  å„æ–‡ä»¶è¯¦æƒ…:                            â”‚
â”‚  â€¢ transformer.pdf: 15 ä¸ªæ–‡æœ¬å—         â”‚
â”‚  â€¢ attention.pdf: 12 ä¸ªæ–‡æœ¬å—           â”‚
â”‚  â€¢ bert.pdf: 8 ä¸ªæ–‡æœ¬å—                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä½¿ç”¨æ­¥éª¤ï¼š**

1. **å‡†å¤‡æ–‡æ¡£**
   ```bash
   # å°†è®ºæ–‡æ”¾åˆ°æ–‡æ¡£ç›®å½•
   cp your_paper.pdf ./data/documents/
   
   # æ”¯æŒå­ç›®å½•
   mkdir -p ./data/documents/nlp/
   cp papers/*.pdf ./data/documents/nlp/
   ```

2. **æ„å»ºç´¢å¼•**
   - è¾“å…¥æ–‡æ¡£ç›®å½•è·¯å¾„ï¼ˆé»˜è®¤ï¼š`./data/documents`ï¼‰
   - é¦–æ¬¡æ„å»ºæˆ–æ–‡æ¡£æ›´æ–°æ—¶ï¼Œå‹¾é€‰ã€Œå¼ºåˆ¶é‡å»ºã€
   - ç‚¹å‡»ã€Œæ„å»ºç´¢å¼•ã€æŒ‰é’®
   - ç­‰å¾…æ„å»ºå®Œæˆï¼ˆå¤§çº¦ 5-10 ç§’/æ–‡æ¡£ï¼‰

3. **æŸ¥çœ‹ç»Ÿè®¡**
   - æ€»æ–‡æœ¬å—æ•°ï¼šæ–‡æ¡£è¢«åˆ†å‰²æˆçš„ç‰‡æ®µæ•°
   - æºæ–‡ä»¶æ•°ï¼šå®é™…çš„æ–‡æ¡£æ–‡ä»¶æ•°
   - å„æ–‡ä»¶è¯¦æƒ…ï¼šæ¯ä¸ªæ–‡ä»¶çš„æ–‡æœ¬å—åˆ†å¸ƒ

**âš ï¸ æ³¨æ„äº‹é¡¹ï¼š**
- æ„å»ºè¿‡ç¨‹ä¸­ä¿æŒé¡µé¢æ‰“å¼€ï¼Œä¸è¦åˆ·æ–°
- å¤§é‡æ–‡æ¡£å»ºè®®ä½¿ç”¨å‘½ä»¤è¡Œæ–¹å¼
- ç´¢å¼•ä¼šè‡ªåŠ¨ä¿å­˜ï¼Œä¸‹æ¬¡å¯åŠ¨è‡ªåŠ¨åŠ è½½

### å®é™…æ“ä½œç¤ºä¾‹

#### ç¤ºä¾‹ 1ï¼šå¿«é€Ÿé—®ç­”
```
1. å¯åŠ¨ Web UI
2. ç¡®è®¤å·²æœ‰ç´¢å¼•ï¼ˆåº•éƒ¨çŠ¶æ€æ æ˜¾ç¤ºï¼‰
3. è¾“å…¥é—®é¢˜ï¼š"Transformer æ¨¡å‹çš„æ ¸å¿ƒåˆ›æ–°æ˜¯ä»€ä¹ˆï¼Ÿ"
4. é€‰æ‹© RAG æ¨¡å¼
5. ç‚¹å‡»æäº¤
6. æŸ¥çœ‹ç­”æ¡ˆå’Œæ¥æº
```

#### ç¤ºä¾‹ 2ï¼šè”ç½‘å¢å¼º
```
1. è¾“å…¥é—®é¢˜ï¼š"GPT-4 ç›¸æ¯” GPT-3 æœ‰ä»€ä¹ˆæ”¹è¿›ï¼Ÿ"
2. å‹¾é€‰ã€Œå¯ç”¨è”ç½‘æœç´¢ã€
3. é€‰æ‹© LLM æ¨¡å¼
4. æäº¤é—®é¢˜
5. è·å¾—æœ€æ–°ä¿¡æ¯
```

#### ç¤ºä¾‹ 3ï¼šæ·±åº¦æ£€ç´¢
```
1. è¾“å…¥å¤æ‚é—®é¢˜ï¼š"è®ºæ–‡ä¸­çš„å¤šå¤´æ³¨æ„åŠ›æœºåˆ¶æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿ"
2. è°ƒæ•´ Top-K ä¸º 8ï¼ˆå¢åŠ æ£€ç´¢èŒƒå›´ï¼‰
3. é€‰æ‹© RAG æ¨¡å¼
4. æŸ¥çœ‹å¤šä¸ªæ¥æºçš„ç»¼åˆç­”æ¡ˆ
```

---

## å‘½ä»¤è¡Œä½¿ç”¨

### åŸºç¡€å‘½ä»¤

#### 1. æ„å»ºç´¢å¼•
```bash
# åŸºç¡€æ„å»º
python main.py build

# æŒ‡å®šæ–‡æ¡£ç›®å½•
python main.py build --input-dir ./data/documents

# å¼ºåˆ¶é‡å»ºï¼ˆåˆ é™¤æ—§ç´¢å¼•ï¼‰
python main.py build --force-rebuild

# å®Œæ•´å‚æ•°ç¤ºä¾‹
python main.py build \
  --input-dir ./data/documents \
  --force-rebuild \
  --chunk-size 512 \
  --chunk-overlap 50
```

**å‚æ•°è¯´æ˜ï¼š**
- `--input-dir`: æ–‡æ¡£ç›®å½•è·¯å¾„
- `--force-rebuild`: å¼ºåˆ¶é‡å»ºç´¢å¼•
- `--chunk-size`: æ–‡æœ¬å—å¤§å°ï¼ˆå­—ç¬¦æ•°ï¼‰
- `--chunk-overlap`: æ–‡æœ¬å—é‡å å¤§å°

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ğŸ“š å¼€å§‹åŠ è½½æ–‡æ¡£...
âœ… å·²åŠ è½½ 3 ä¸ªæ–‡æ¡£ï¼Œå…± 35 ä¸ªæ–‡æœ¬å—

ğŸ“Š ç»Ÿè®¡ä¿¡æ¯:
  â€¢ transformer.pdf: 15 ä¸ªæ–‡æœ¬å—
  â€¢ attention.pdf: 12 ä¸ªæ–‡æœ¬å—
  â€¢ bert.pdf: 8 ä¸ªæ–‡æœ¬å—

ğŸ”¨ å¼€å§‹æ„å»ºç´¢å¼•...
âœ… ç´¢å¼•æ„å»ºå®Œæˆï¼
ğŸ’¾ ç´¢å¼•å·²ä¿å­˜åˆ°: ./data/vector_store/
```

#### 2. RAG é—®ç­”
```bash
# åŸºç¡€é—®ç­”
python main.py query "è¿™ç¯‡è®ºæ–‡çš„ä¸»è¦è´¡çŒ®æ˜¯ä»€ä¹ˆï¼Ÿ"

# å¸¦å‚æ•°é—®ç­”
python main.py query "Transformer å¦‚ä½•å·¥ä½œï¼Ÿ" \
  --top-k 5 \
  --similarity-threshold 0.7

# è”ç½‘æœç´¢å¢å¼º
python main.py query "æœ€æ–°çš„ NLP è¿›å±•" \
  --web-search \
  --max-results 5
```

**å‚æ•°è¯´æ˜ï¼š**
- `--top-k`: æ£€ç´¢æ•°é‡ï¼ˆé»˜è®¤ï¼š5ï¼‰
- `--similarity-threshold`: ç›¸ä¼¼åº¦é˜ˆå€¼ï¼ˆé»˜è®¤ï¼š0.7ï¼‰
- `--web-search`: å¯ç”¨è”ç½‘æœç´¢
- `--max-results`: æœç´¢ç»“æœæ•°ï¼ˆé»˜è®¤ï¼š5ï¼‰

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
ğŸ¤” é—®é¢˜: è¿™ç¯‡è®ºæ–‡çš„ä¸»è¦è´¡çŒ®æ˜¯ä»€ä¹ˆï¼Ÿ

ğŸ’¬ ç­”æ¡ˆ:
æœ¬æ–‡çš„ä¸»è¦è´¡çŒ®åŒ…æ‹¬:
1. æå‡ºäº†å®Œå…¨åŸºäºæ³¨æ„åŠ›æœºåˆ¶çš„ Transformer æ¶æ„
2. è¯æ˜äº†è‡ªæ³¨æ„åŠ›æœºåˆ¶åœ¨åºåˆ—å»ºæ¨¡ä¸­çš„æœ‰æ•ˆæ€§
3. åœ¨å¤šä¸ªä»»åŠ¡ä¸Šå–å¾—äº† SOTA æ€§èƒ½

ğŸ“Œ å‚è€ƒæ¥æº 1:
   æ–‡ä»¶: transformer.pdf
   ç›¸ä¼¼åº¦: 0.89
   é¡µç : 1
   å†…å®¹: "æˆ‘ä»¬æå‡ºäº† Transformerï¼Œä¸€ä¸ªå®Œå…¨åŸºäºæ³¨æ„åŠ›æœºåˆ¶çš„æ¨¡å‹æ¶æ„..."

ğŸ“Œ å‚è€ƒæ¥æº 2:
   æ–‡ä»¶: transformer.pdf
   ç›¸ä¼¼åº¦: 0.85
   é¡µç : 8
   å†…å®¹: "å®éªŒç»“æœè¡¨æ˜ï¼ŒTransformer åœ¨æœºå™¨ç¿»è¯‘ä»»åŠ¡ä¸Š..."
```

#### 3. LLM ç›´æ¥å¯¹è¯
```bash
# åŸºç¡€å¯¹è¯
python main.py llm "è§£é‡Šä¸€ä¸‹ä»€ä¹ˆæ˜¯æ³¨æ„åŠ›æœºåˆ¶"

# è”ç½‘å¯¹è¯
python main.py llm "2024å¹´æœ‰å“ªäº›é‡è¦çš„ AI è®ºæ–‡ï¼Ÿ" \
  --web-search

# è°ƒæ•´æ¸©åº¦å‚æ•°
python main.py llm "ç»™æˆ‘ä¸€äº›ç ”ç©¶å»ºè®®" \
  --temperature 0.9
```

**å‚æ•°è¯´æ˜ï¼š**
- `--web-search`: å¯ç”¨è”ç½‘æœç´¢
- `--temperature`: æ¸©åº¦å‚æ•°ï¼ˆ0-1ï¼‰
- `--max-tokens`: æœ€å¤§ç”Ÿæˆé•¿åº¦

### é«˜çº§ç”¨æ³•

#### æ‰¹é‡å¤„ç†
```bash
# æ‰¹é‡é—®é¢˜æ–‡ä»¶ï¼ˆæ¯è¡Œä¸€ä¸ªé—®é¢˜ï¼‰
cat questions.txt | while read question; do
  python main.py query "$question" >> answers.txt
done
```

#### å¯¼å‡ºç»“æœ
```bash
# å¯¼å‡ºä¸º JSON
python main.py query "é—®é¢˜" --output-format json > result.json

# å¯¼å‡ºä¸º Markdown
python main.py query "é—®é¢˜" --output-format markdown > result.md
```

#### æ€§èƒ½ç›‘æ§
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
python main.py query "é—®é¢˜" --log-level DEBUG

# æ˜¾ç¤ºæ€§èƒ½ç»Ÿè®¡
python main.py query "é—®é¢˜" --show-stats
```

---

## å¸¸è§åœºæ™¯

### åœºæ™¯ 1ï¼šæ–°æ‰‹ä¸Šæ‰‹ï¼ˆ5åˆ†é’Ÿï¼‰

**ç›®æ ‡**ï¼šå¿«é€Ÿä½“éªŒç³»ç»ŸåŠŸèƒ½

```bash
# 1. é…ç½® API
cp .env.example .env
vim .env  # å¡«å…¥ä½ çš„ API Key

# 2. å‡†å¤‡ç¤ºä¾‹æ–‡æ¡£
mkdir -p ./data/documents
cp ~/Downloads/paper.pdf ./data/documents/

# 3. å¯åŠ¨ Web UI
python web_ui.py

# 4. æµè§ˆå™¨è®¿é—® http://localhost:7860
# 5. åœ¨ã€Œç´¢å¼•æ„å»ºã€æ ‡ç­¾é¡µæ„å»ºç´¢å¼•
# 6. åœ¨ã€Œé—®ç­”ã€æ ‡ç­¾é¡µæé—®
```

### åœºæ™¯ 2ï¼šæ—¥å¸¸ä½¿ç”¨

**ç›®æ ‡**ï¼šé«˜æ•ˆé˜…è¯»å¤šç¯‡è®ºæ–‡

```bash
# 1. æ‰¹é‡æ·»åŠ è®ºæ–‡
cp ~/Downloads/*.pdf ./data/documents/nlp/

# 2. æ„å»ºç´¢å¼•ï¼ˆå‘½ä»¤è¡Œæ›´å¿«ï¼‰
python main.py build --force-rebuild

# 3. ä½¿ç”¨ Web UI è¿›è¡Œäº¤äº’å¼é—®ç­”
python web_ui.py

# 4. å…¸å‹é—®é¢˜æµç¨‹ï¼š
#    a. æ€»ä½“äº†è§£ï¼š"è¿™äº›è®ºæ–‡çš„ä¸»è¦ç ”ç©¶æ–¹å‘æ˜¯ä»€ä¹ˆï¼Ÿ"
#    b. æ·±å…¥ç»†èŠ‚ï¼š"Transformer çš„å®ç°ç»†èŠ‚"
#    c. å¯¹æ¯”åˆ†æï¼š"BERT å’Œ GPT çš„åŒºåˆ«"
#    d. æ‹“å±•æ€è€ƒï¼š"æœªæ¥å¯èƒ½çš„ç ”ç©¶æ–¹å‘"
```

### åœºæ™¯ 3ï¼šæ–‡çŒ®ç»¼è¿°

**ç›®æ ‡**ï¼šç³»ç»Ÿæ•´ç†æŸä¸ªé¢†åŸŸçš„æ–‡çŒ®

```bash
# 1. å‡†å¤‡æ–‡çŒ®ï¼ˆæŒ‰ä¸»é¢˜åˆ†ç±»ï¼‰
./data/documents/
â”œâ”€â”€ attention/       # æ³¨æ„åŠ›æœºåˆ¶ç›¸å…³
â”œâ”€â”€ transformer/     # Transformer ç›¸å…³
â””â”€â”€ applications/    # åº”ç”¨ç›¸å…³

# 2. åˆ†åˆ«æ„å»ºç´¢å¼•
python main.py build --input-dir ./data/documents/attention
python main.py build --input-dir ./data/documents/transformer

# 3. ä½¿ç”¨è„šæœ¬æ‰¹é‡æé—®
cat << EOF > review_questions.txt
è¿™ä¸ªé¢†åŸŸçš„å‘å±•å†ç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ
ä¸»è¦çš„æŠ€æœ¯æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ
å„ç§æ–¹æ³•çš„ä¼˜ç¼ºç‚¹æ˜¯ä»€ä¹ˆï¼Ÿ
æœªæ¥çš„ç ”ç©¶æ–¹å‘æœ‰å“ªäº›ï¼Ÿ
EOF

# 4. æ‰¹é‡ç”Ÿæˆç­”æ¡ˆ
while read q; do
  echo "## $q" >> review.md
  python main.py query "$q" >> review.md
  echo "" >> review.md
done < review_questions.txt
```

### åœºæ™¯ 4ï¼šå®æ—¶è·Ÿè¸ª

**ç›®æ ‡**ï¼šäº†è§£é¢†åŸŸæœ€æ–°è¿›å±•

```bash
# ä½¿ç”¨ LLM æ¨¡å¼ + è”ç½‘æœç´¢
python main.py llm "2024å¹´ Transformer æœ‰å“ªäº›æ–°è¿›å±•ï¼Ÿ" \
  --web-search \
  --max-results 10

# å®šæœŸæ‰§è¡Œï¼ˆcron ä»»åŠ¡ï¼‰
# æ¯å¤© 9:00 è·å–æœ€æ–°è¿›å±•
0 9 * * * cd /path/to/project && \
  python main.py llm "æœ€æ–°çš„ NLP ç ”ç©¶" --web-search \
  >> ./logs/daily_updates.log
```

---

## é—®é¢˜æ’æŸ¥

### å¸¸è§é—®é¢˜

#### 1. API è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ Error: Connection timeout
âŒ Error: Invalid API key
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥é…ç½®
cat .env | grep LLM

# æµ‹è¯•è¿æ¥
python -c "
from src.config.llm_config import LLMConfig
config = LLMConfig()
print(f'API Base: {config.api_base}')
print(f'API Key: {config.api_key[:8]}...')
"

# æµ‹è¯• API è°ƒç”¨
curl -X POST "https://api.moonshot.cn/v1/chat/completions" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "moonshot-v1-8k",
    "messages": [{"role": "user", "content": "Hello"}]
  }'
```

#### 2. Embedding æ¨¡å‹åŠ è½½å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ Error: Failed to load model BAAI/bge-small-zh-v1.5
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ‰‹åŠ¨ä¸‹è½½æ¨¡å‹
pip install -U huggingface_hub
export HF_ENDPOINT=https://hf-mirror.com  # å›½å†…é•œåƒ
huggingface-cli download BAAI/bge-small-zh-v1.5

# æŒ‡å®šç¼“å­˜ç›®å½•
export HF_HOME=./models/huggingface
python -c "from sentence_transformers import SentenceTransformer; SentenceTransformer('BAAI/bge-small-zh-v1.5')"
```

#### 3. æ„å»ºç´¢å¼•å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ æ„å»ºç´¢å¼•å¤±è´¥: [Errno 32] Broken pipe
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ–¹æ³• 1: ä½¿ç”¨å‘½ä»¤è¡Œæ„å»ºï¼ˆæ›´ç¨³å®šï¼‰
python main.py build --input-dir ./data/documents

# æ–¹æ³• 2: å‡å°‘æ–‡æ¡£æ•°é‡
# å…ˆæµ‹è¯•å•ä¸ªæ–‡æ¡£
mkdir -p ./data/documents/test
cp your_paper.pdf ./data/documents/test/
python main.py build --input-dir ./data/documents/test

# æ–¹æ³• 3: æ£€æŸ¥æ–‡æ¡£æ ¼å¼
file ./data/documents/*.pdf  # ç¡®è®¤æ˜¯æœ‰æ•ˆçš„ PDF

# æ–¹æ³• 4: æ¸…ç†ç¼“å­˜é‡è¯•
rm -rf ./data/vector_store/*
python main.py build --force-rebuild
```

#### 4. Web UI æ— æ³•è®¿é—®

**é”™è¯¯ä¿¡æ¯ï¼š**
```
Connection refused
Port 7860 already in use
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :7860

# æ€æ­»å ç”¨è¿›ç¨‹
pkill -f "python web_ui.py"

# ä½¿ç”¨å…¶ä»–ç«¯å£
python web_ui.py --server-port 7861

# æ£€æŸ¥é˜²ç«å¢™
# Mac
sudo pfctl -s rules | grep 7860

# Linux
sudo iptables -L | grep 7860
```

#### 5. å†…å­˜ä¸è¶³

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ Error: Out of memory
```

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å‡å°æ‰¹æ¬¡å¤§å°
export BATCH_SIZE=1

# å‡å°æ–‡æœ¬å—å¤§å°
vim .env
# ä¿®æ”¹: CHUNK_SIZE=256  (é»˜è®¤ 512)

# åˆ†æ‰¹æ„å»ºç´¢å¼•
python main.py build --input-dir ./data/documents/batch1
python main.py build --input-dir ./data/documents/batch2

# ä½¿ç”¨æ›´å°çš„ Embedding æ¨¡å‹
# ä¿®æ”¹ .env: EMBEDDING_MODEL_NAME=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
```

### æ—¥å¿—åˆ†æ

#### æŸ¥çœ‹æ—¥å¿—
```bash
# å®æ—¶æŸ¥çœ‹
tail -f ./logs/app.log

# æŸ¥çœ‹é”™è¯¯
grep ERROR ./logs/app.log

# æŸ¥çœ‹æœ€è¿‘ 100 è¡Œ
tail -n 100 ./logs/app.log

# æŒ‰æ—¶é—´ç­›é€‰
grep "2024-12-20" ./logs/app.log
```

#### å¯ç”¨è°ƒè¯•æ¨¡å¼
```bash
# ä¿®æ”¹é…ç½®
vim .env
# æ·»åŠ : LOG_LEVEL=DEBUG

# æˆ–ä¸´æ—¶å¯ç”¨
python main.py query "é—®é¢˜" --log-level DEBUG
```

### æ€§èƒ½ä¼˜åŒ–

#### 1. åŠ é€Ÿç´¢å¼•æ„å»º
```bash
# ä½¿ç”¨æ›´å¿«çš„ Embedding æ¨¡å‹
EMBEDDING_MODEL_NAME=sentence-transformers/all-MiniLM-L6-v2

# å‡å°æ–‡æœ¬å—å¤§å°
CHUNK_SIZE=256

# ç¦ç”¨æ–‡æœ¬æ¸…ç†ï¼ˆå¦‚æœä¸éœ€è¦ï¼‰
python main.py build --no-clean-text
```

#### 2. åŠ é€Ÿæ£€ç´¢
```bash
# å‡å° Top-K
python main.py query "é—®é¢˜" --top-k 3

# æé«˜ç›¸ä¼¼åº¦é˜ˆå€¼
python main.py query "é—®é¢˜" --similarity-threshold 0.8
```

#### 3. å‡å°‘ API è°ƒç”¨
```bash
# ä½¿ç”¨æ›´çŸ­çš„ prompt
# å‡å° max_tokens
# ä½¿ç”¨æ›´ä¾¿å®œçš„æ¨¡å‹
```

### è·å–å¸®åŠ©

- ğŸ“– æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š`docs/`
- ğŸ› æŠ¥å‘Šé—®é¢˜ï¼šGitHub Issues
- ğŸ’¬ ç¤¾åŒºè®¨è®ºï¼šGitHub Discussions
- ğŸ“§ é‚®ä»¶è”ç³»ï¼šyour-email@example.com

---

## ä¸‹ä¸€æ­¥

- ğŸ‘¨â€ğŸ’» é˜…è¯» [å¼€å‘è€…æ–‡æ¡£](DEVELOPER_GUIDE.md) è¿›è¡ŒäºŒæ¬¡å¼€å‘
- ğŸ“‹ æŸ¥çœ‹ [åŠŸèƒ½ä»‹ç»](FEATURES.md) äº†è§£æ›´å¤šç‰¹æ€§
- ğŸš€ å¼€å§‹ä½¿ç”¨ï¼š`python web_ui.py`
