"""
示例：快速开始

演示基本的文档加载和问答流程
"""

import sys
from pathlib import Path

# 添加项目根目录到 Python 路径
sys.path.insert(0, str(Path(__file__).parent.parent))

from config import initialize_settings
from src.indexing import DocumentIndexer
from src.query import QAEngine


def main():
    """快速开始示例"""
    
    print("学术论文问答系统 - 快速开始示例\n")
    
    # 1. 初始化系统
    print("步骤 1: 初始化系统配置")
    initialize_settings()
    print("✓ 完成\n")
    
    # 2. 创建索引（假设已有文档）
    print("步骤 2: 构建索引")
    indexer = DocumentIndexer(vector_store_type="chroma")
    
    # 这里可以选择加载已有索引或构建新索引
    # index = indexer.load_index()  # 加载已有索引
    # 或
    # index = indexer.build_index()  # 构建新索引
    
    print("提示: 请先运行 build_index.py 构建索引\n")
    
    # 3. 创建问答引擎
    print("步骤 3: 创建问答引擎")
    # qa_engine = QAEngine(index=index)
    print("✓ 完成\n")
    
    # 4. 执行查询
    print("步骤 4: 执行查询")
    # question = "这篇论文的主要贡献是什么？"
    # answer = qa_engine.query(question)
    # print(f"问题: {question}")
    # print(f"回答: {answer}\n")
    
    print("示例代码已准备好，请先构建索引后再运行查询部分")


if __name__ == "__main__":
    main()
